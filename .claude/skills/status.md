# 机器人状态检查

## 指令说明
快速检查交易机器人运行状态，输出简洁，重点突出问题。

## 执行规则

### 1. 检查项（按顺序）
```bash
# 1. 进程状态（1行）
ps -p $(cat bot.pid 2>/dev/null || echo "0") -o pid,etime,%cpu,%mem,stat --no-headers 2>/dev/null || echo "❌ 进程未运行"

# 2. 最新错误（最多5行）
tail -5 logs/error.log 2>/dev/null | grep -v "test_" || echo "✅ 无错误"

# 3. 最新日志（最多3行）
tail -3 logs/info.log 2>/dev/null

# 4. 日志统计（1行）
wc -l logs/*.log 2>/dev/null | tail -1
```

### 2. 输出格式（严格限制）

**总输出不超过 15 行**

```
状态: [✅正常 / ⚠️警告 / ❌异常]
进程: PID [运行时间] CPU [%] MEM [%]
错误: [最近错误数量] 条
最新: [最后一条日志时间和内容]
日志: [总行数]
```

### 3. 问题判断标准

- ❌ 异常：进程不存在 / 最近5分钟有非测试错误 / CPU>50% / MEM>80%
- ⚠️ 警告：运行时间<2分钟 / 最近1小时有警告 / CPU>20%
- ✅ 正常：其他情况

### 4. 禁止行为

- ❌ 不要生成表格
- ❌ 不要使用装饰性符号（如 ═══）
- ❌ 不要重复显示相同信息
- ❌ 不要输出超过 15 行
- ❌ 不要使用冗长的描述

## 示例输出

```
状态: ✅ 正常
进程: 460426 [14:33] CPU 1.1% MEM 16.6%
错误: 0 条（仅测试日志）
最新: 14:51:02 强趋势检测 ADX=65.9
日志: 2748 行
```

## 使用方法

用户输入：`/status` 或 `check status`
