# äº¤æ˜“æ•°æ®å¯è§†åŒ–é¡¹ç›® - å‰ç«¯Dashboardè®¾è®¡

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**åˆ›å»ºæ—¶é—´**: 2026-01-09

---

## 1. é¡µé¢ç»“æ„è®¾è®¡

### 1.1 æ•´ä½“å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Header                                                  â”‚
â”‚  [Logo] Trading Dashboard        [User] [Settings]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ ä½™é¢   â”‚ â”‚ æŒä»“   â”‚ â”‚ ç›ˆäº   â”‚ â”‚ èƒœç‡   â”‚  â† æŒ‡æ ‡å¡ç‰‡
â”‚  â”‚ 1000U  â”‚ â”‚ 0.001  â”‚ â”‚ +1.5U  â”‚ â”‚ 65%    â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  å½“å‰è¶‹åŠ¿å›¾è¡¨         â”‚ â”‚  ç”Ÿæ•ˆæŒ‡æ ‡é¢æ¿         â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚  â”‚  LineChart     â”‚  â”‚ â”‚  â”‚  RSI: 65.5     â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  (Recharts)    â”‚  â”‚ â”‚  â”‚  MACD: 150.0   â”‚  â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚  â”‚  EMA: 50500    â”‚  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  å†å²äº¤æ˜“è®°å½• (DataTable)                        â”‚   â”‚
â”‚  â”‚  [ç­›é€‰] [æœç´¢] [å¯¼å‡º]                            â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ ID | æ—¶é—´ | ç­–ç•¥ | ä»·æ ¼ | ç›ˆäº | æ“ä½œ    â”‚  â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚   â”‚
â”‚  â”‚  â”‚ 1  | 10:30| Mom | 50000| +1.0 | [è¯¦æƒ…]  â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚  [ä¸Šä¸€é¡µ] [1] [2] [3] [ä¸‹ä¸€é¡µ]                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  [AI èŠå¤©] ğŸ’¬                                           â”‚ â† å›ºå®šåº•éƒ¨
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ç»„ä»¶è®¾è®¡

### 2.1 æŒ‡æ ‡å¡ç‰‡ç»„ä»¶

**ç»„ä»¶**: `MetricCard`

**Props**:
```typescript
interface MetricCardProps {
  title: string;
  value: string | number;
  change?: number;  // å˜åŒ–ç™¾åˆ†æ¯”
  icon?: React.ReactNode;
  trend?: 'up' | 'down' | 'neutral';
}
```

**shadcn/ui ç»„ä»¶**:
- `Card`
- `CardHeader`
- `CardContent`
- `Badge`

**ç¤ºä¾‹**:
```tsx
<MetricCard
  title="è´¦æˆ·ä½™é¢"
  value="1000.00 USDT"
  change={+2.5}
  trend="up"
  icon={<DollarSign />}
/>
```

---

### 2.2 è¶‹åŠ¿å›¾è¡¨ç»„ä»¶

**ç»„ä»¶**: `TrendChart`

**Props**:
```typescript
interface TrendChartProps {
  data: Array<{
    timestamp: string;
    price: number;
    volume?: number;
  }>;
  indicators?: {
    ema20?: number[];
    ema50?: number[];
  };
}
```

**å›¾è¡¨åº“**: Recharts

**å›¾è¡¨ç±»å‹**:
- `LineChart` - ä»·æ ¼èµ°åŠ¿
- `AreaChart` - æˆäº¤é‡
- `ComposedChart` - ç»„åˆå›¾è¡¨

**ç¤ºä¾‹**:
```tsx
<TrendChart
  data={priceData}
  indicators={{
    ema20: ema20Data,
    ema50: ema50Data
  }}
/>
```

---

### 2.3 æŒ‡æ ‡é¢æ¿ç»„ä»¶

**ç»„ä»¶**: `IndicatorPanel`

**Props**:
```typescript
interface IndicatorPanelProps {
  indicators: Array<{
    name: string;
    value: number;
    signal: 'bullish' | 'bearish' | 'neutral';
    threshold?: {
      overbought?: number;
      oversold?: number;
    };
  }>;
}
```

**shadcn/ui ç»„ä»¶**:
- `Card`
- `Badge`
- `Progress`
- `Tooltip`

**ç¤ºä¾‹**:
```tsx
<IndicatorPanel
  indicators={[
    { name: 'RSI', value: 65.5, signal: 'neutral' },
    { name: 'MACD', value: 150, signal: 'bullish' }
  ]}
/>
```

---

### 2.4 å†å²è®°å½•è¡¨æ ¼ç»„ä»¶

**ç»„ä»¶**: `TradeHistoryTable`

**Props**:
```typescript
interface TradeHistoryTableProps {
  data: Trade[];
  pagination: {
    page: number;
    pageSize: number;
    total: number;
  };
  onPageChange: (page: number) => void;
  onFilter: (filters: TradeFilters) => void;
}
```

**shadcn/ui ç»„ä»¶**:
- `Table`
- `TableHeader`
- `TableBody`
- `TableRow`
- `TableCell`
- `Button`
- `Input`
- `Select`

**åŠŸèƒ½**:
- æ’åºï¼ˆæŒ‰æ—¶é—´ã€ç›ˆäºï¼‰
- ç­›é€‰ï¼ˆç­–ç•¥ã€æ—¥æœŸèŒƒå›´ï¼‰
- æœç´¢ï¼ˆè®¢å•IDï¼‰
- åˆ†é¡µ
- å¯¼å‡ºï¼ˆCSVï¼‰

---

### 2.5 AI èŠå¤©ç»„ä»¶

**ç»„ä»¶**: `AIChatPanel`

**Props**:
```typescript
interface AIChatPanelProps {
  onSendMessage: (message: string) => Promise<string>;
  initialMessages?: ChatMessage[];
}

interface ChatMessage {
  role: 'user' | 'assistant';
  content: string;
  timestamp: string;
}
```

**shadcn/ui ç»„ä»¶**:
- `Sheet` (ä¾§è¾¹æŠ½å±‰)
- `ScrollArea`
- `Input`
- `Button`
- `Avatar`

**åŠŸèƒ½**:
- æ¶ˆæ¯å†å²
- æµå¼å“åº”
- å¿«æ·å‘½ä»¤ï¼ˆ/analyze, /suggestï¼‰
- ä¸Šä¸‹æ–‡æ„ŸçŸ¥

---

## 3. æ•°æ®ç®¡ç†

### 3.1 API å®¢æˆ·ç«¯

**æ–‡ä»¶**: `lib/api-client.ts`

```typescript
import axios from 'axios';

const apiClient = axios.create({
  baseURL: process.env.NEXT_PUBLIC_API_URL,
  timeout: 10000,
});

// è¯·æ±‚æ‹¦æˆªå™¨ - æ·»åŠ  JWT Token
apiClient.interceptors.request.use((config) => {
  const token = localStorage.getItem('access_token');
  if (token) {
    config.headers.Authorization = `Bearer ${token}`;
  }
  return config;
});

// å“åº”æ‹¦æˆªå™¨ - å¤„ç†é”™è¯¯
apiClient.interceptors.response.use(
  (response) => response,
  (error) => {
    if (error.response?.status === 401) {
      // Token è¿‡æœŸï¼Œè·³è½¬ç™»å½•
      window.location.href = '/login';
    }
    return Promise.reject(error);
  }
);

export default apiClient;
```

---

### 3.2 æ•°æ®è·å– Hooks

**æ–‡ä»¶**: `hooks/use-trades.ts`

```typescript
import { useQuery } from '@tanstack/react-query';
import apiClient from '@/lib/api-client';

export function useTrades(params?: {
  limit?: number;
  offset?: number;
  strategy?: string;
}) {
  return useQuery({
    queryKey: ['trades', params],
    queryFn: async () => {
      const { data } = await apiClient.get('/api/trades', { params });
      return data;
    },
    refetchInterval: 30000, // 30ç§’è‡ªåŠ¨åˆ·æ–°
  });
}
```

**æ–‡ä»¶**: `hooks/use-position.ts`

```typescript
export function useCurrentPosition() {
  return useQuery({
    queryKey: ['position', 'current'],
    queryFn: async () => {
      const { data } = await apiClient.get('/api/positions/current');
      return data;
    },
    refetchInterval: 5000, // 5ç§’åˆ·æ–°
  });
}
```

---

### 3.3 WebSocket Hook

**æ–‡ä»¶**: `hooks/use-websocket.ts`

```typescript
import { useEffect, useState } from 'react';

export function useWebSocket(url: string) {
  const [data, setData] = useState<any>(null);
  const [isConnected, setIsConnected] = useState(false);

  useEffect(() => {
    const token = localStorage.getItem('access_token');
    const ws = new WebSocket(`${url}?token=${token}`);

    ws.onopen = () => {
      setIsConnected(true);
      // è®¢é˜…é¢‘é“
      ws.send(JSON.stringify({
        action: 'subscribe',
        channels: ['trades', 'positions', 'trends']
      }));
    };

    ws.onmessage = (event) => {
      const message = JSON.parse(event.data);
      setData(message);
    };

    ws.onclose = () => {
      setIsConnected(false);
      // è‡ªåŠ¨é‡è¿
      setTimeout(() => {
        // é‡æ–°è¿æ¥é€»è¾‘
      }, 3000);
    };

    return () => ws.close();
  }, [url]);

  return { data, isConnected };
}
```

---

## 4. çŠ¶æ€ç®¡ç†

### 4.1 å…¨å±€çŠ¶æ€ (Zustand)

**æ–‡ä»¶**: `store/use-app-store.ts`

```typescript
import { create } from 'zustand';

interface AppState {
  user: User | null;
  theme: 'light' | 'dark';
  setUser: (user: User | null) => void;
  setTheme: (theme: 'light' | 'dark') => void;
}

export const useAppStore = create<AppState>((set) => ({
  user: null,
  theme: 'light',
  setUser: (user) => set({ user }),
  setTheme: (theme) => set({ theme }),
}));
```

---

## 5. è·¯ç”±è®¾è®¡

### 5.1 é¡µé¢è·¯ç”±

```
app/
â”œâ”€â”€ layout.tsx           # æ ¹å¸ƒå±€
â”œâ”€â”€ page.tsx             # é¦–é¡µï¼ˆDashboardï¼‰
â”œâ”€â”€ login/
â”‚   â””â”€â”€ page.tsx         # ç™»å½•é¡µ
â””â”€â”€ (dashboard)/         # Dashboard è·¯ç”±ç»„
    â”œâ”€â”€ layout.tsx       # Dashboard å¸ƒå±€
    â”œâ”€â”€ page.tsx         # æ¦‚è§ˆé¡µ
    â”œâ”€â”€ history/
    â”‚   â””â”€â”€ page.tsx     # å†å²è®°å½•é¡µ
    â””â”€â”€ settings/
        â””â”€â”€ page.tsx     # è®¾ç½®é¡µ
```

---

## 6. æ ·å¼è®¾è®¡

### 6.1 ä¸»é¢˜é…ç½®

**æ–‡ä»¶**: `tailwind.config.js`

```javascript
module.exports = {
  theme: {
    extend: {
      colors: {
        primary: {
          50: '#f0fdf4',
          500: '#22c55e',
          900: '#14532d',
        },
        danger: {
          500: '#ef4444',
        },
      },
    },
  },
};
```

### 6.2 å…¨å±€æ ·å¼

**æ–‡ä»¶**: `app/globals.css`

```css
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --primary: 142.1 76.2% 36.3%;
  }
}
```

---

## 7. æ€§èƒ½ä¼˜åŒ–

### 7.1 ä»£ç åˆ†å‰²

```typescript
// æ‡’åŠ è½½å›¾è¡¨ç»„ä»¶
const TrendChart = dynamic(() => import('@/components/charts/TrendChart'), {
  loading: () => <Skeleton className="h-[300px]" />,
  ssr: false,
});
```

### 7.2 è™šæ‹Ÿæ»šåŠ¨

```typescript
import { useVirtualizer } from '@tanstack/react-virtual';

// é•¿åˆ—è¡¨ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨
const rowVirtualizer = useVirtualizer({
  count: trades.length,
  getScrollElement: () => parentRef.current,
  estimateSize: () => 50,
});
```

---

**ä¸‹ä¸€æ­¥**: é˜…è¯» `05-å®æ–½è®¡åˆ’.md` äº†è§£åˆ†é˜¶æ®µå®æ–½æ­¥éª¤ã€‚
